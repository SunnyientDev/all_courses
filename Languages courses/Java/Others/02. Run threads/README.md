Гонка ресурсов

В данном коде https://github.com/CAPCHIK/lessonsJava2020/blob/master/src/ru/capchik/ivbo_07_19/lesson6/Threads.java используется ключевое слово synchronized для обеспечения безопасного инкремента поля totalSum.

Необходимо написать программу так, чтобы после ожидания работы всех методов можно было правильно посчитать сумму всех операций, не теряя при этом многопоточности. Применять специальные инструменты для разрешения таких ситуаций нельзя, необходимо обойтись обычными типами данных, без оберток, блокировок.
